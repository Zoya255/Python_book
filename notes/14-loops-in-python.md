# Циклы в Python


Теперь, когда с теорией всё стало ясно, можно приступить к практике.


## Цикл `for` в Python

И начнётся всё с неожиданностей — в Python цикл `for` - это на самом деле цикл `foreach`.

Но обо всём по-порядку — в целом, цикл `for` задаётся в Python следующим образом:

```python
for i in range(1, 10):
	pass
```

Разберём подробнее:

- `for` - ключевое слово, объявление цикла `for`
- `i` - переменная, хранящая текущий перебираемый элемент цикла
- `in` - ключевое слово, разделитель между элементом и набором
- `range(1, 10)` - генератор списка ( разберём его позже )
- `pass` - "пустой" оператор

> Примечание: На самом деле, итерируемая переменная может быть любой. Однако для цикла `for` принято использовать именно `i` ( от слов "iter", "iterator" ).


## Генератор `range()`

Теперь разберёмся с оператором `range()` - основой цикла `for`. Сам по себе он ничего не даёт, однако при использовании с оператором цикла, позволяет ему перечислять числа. По сути, это означает, что цикл `for` в данном случае перебирает массив чисел, что является поведением цикла `foreach`.

Кстати, если даже попытаться вызвать `range()`, то он вернёт себя:

```pycon
>>> range(1, 10)
range(1, 10)
```

Главное, нужно знать, что оператор `range()` возвращает интервал - т.е. первое число включительно, а второе — не включительно. Например:

```python
range( 1 )      # 0
range( 0, 1 )   # 0
range( 0, 2 )   # 0, 1
range( 1, 10 )  # 1, 2, 3, 4, 5, 6, 7, 8, 9
range( 1, 11 )  # 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
```


## Цикл `for` как `for`

Теперь можно собственно рассмотреть как использовать данный цикл.

Проще всего это понять через консоль Python:

```pycon
>>> for i in range(1, 6)
...     print(i)
...
1
2
3
4
5
```

В данном случае, мы просто перечислили числа в цикле. Конечно же, с переменной `i` можно взаимодействовать:

```pycon
>>> for i in range(1, 11):
...     print( " " * (10 - i), "*" * ( i + ( i - 1 ) ) )
... 
          *
         ***
        *****
       *******
      *********
     ***********
    *************
   ***************
  *****************
 *******************
```

И самое сложное — это вложенные циклы. Т.е. цикл в цикле:

```pycon
>>> for i in range(1, 6):
...     for j in range(1, 10):
...         print( j, end=" " )
...     print()
... 
1 2 3 4 5 6 7 8 9 
1 2 3 4 5 6 7 8 9 
1 2 3 4 5 6 7 8 9 
1 2 3 4 5 6 7 8 9 
1 2 3 4 5 6 7 8 9
```

Главное тут — это не запутаться во вложенности - у каждого цикла свой уровень отступа.


## Цикл `for` как `foreach`

По сути цикл `for` итак является неявным циклом `foreach`. А для использования его в явном режиме нужно просто вместо range передать итерируемый объект ( например, массив ):

```pycon
>>> arr = [ "apple", "banana", "carrot" ]

>>> for item in arr:
...     print( item )
...
apple
banana
carrot
```

Если же ещё требуется при этом получать индекс элемента, можно воспользоваться встроенной функцией `enumerate()`:

```pycon
>>> arr = [ "apple", "banana", "carrot" ]

>>> for index, item in enumerate(arr):
...     print( index, item )
...
1 apple
2 banana
3 carrot
```

А в остальном, такой подход к циклу ничем более не отличается от обычного.


## Цикл `while` в Python

Конечно, в Python есть и цикл `while`, причём у него нет специфичных особенностей — он настолько гибок, что обычно достаточно одного лишь его наличия. В Python он определяется следующим образом:

```python
while i < 10:
	pass
```

Разберём данную запись подробнее:

- `while` - ключевое слово, объявление цикла `while`
- `i < 10` - условие
- `pass` - "пустой" оператор

> Примечание: Условие может быть любым, главное — чтобы оно возвращало значение типа `boolean`

Ну и конечно, условие должно обновляться отдельно от цикла ( этим и обеспечивается его гибкость ), например:

```pycon
>>> i = 0

>>> while i < 10:
...     print(i)
...     i += 2
...
0
2
4
6
8
```

В остальном же, это самый обычный цикл.


## Дополнительные примеры

Вот ещё несколько примеров использования циклов для понимания их работы.

### Вывод строки в столбик

Данный цикл побуквенно выводит строку произвольной длины.

```python
string = "ABCDEF"

for i in range(len(string)):
    print(string[i])
```
Результат выполнения:

```text
A
B
C
D
E
F
```

### Вывод строки по диагонали:

Данный цикл работает точно так же, как и предыдущий, однако каждый раз добавляет отступ, "сдвигая" символы в сторону.

```python
string = "ABCDEF"

for i in range(len(string)):
    print(" " * i, end="")
    print(string[i])
```

Результат выполнения:

```text
A
 B
  C
   D
    E
     F
```

### Бесконечный цикл 

Иногда может быть нужно, чтобы некоторый блок кода выполнялся неопределённое или даже бесконечное количество раз. В этом случае можно использовать бесконечный цикл. Его особенность в том, что он будет работать, пока что-то его не прервёт намеренно.

Самый простой пример бесконечного цикла:

```python
while True:
    pass
```

Как это работает? Данный цикл имеет всегда верное условие, а значит, всегда работает. 

Фактически, можно запустить его используя и другие вечно верные условия, но это не будет так явно и читаемо:

```python
while 2 > 1:
    pass
```

### Перебор массива чисел с проверкой на чётность

Классическая задача для цикла - перебор массива. В данном случае каждую итерацию цикла производится проверка текущего числа на чётность и вывод результата.

```
arr = [ 10, 15, 22, 14, 13, 7, 19, 42, 63, 51 ]

for i in range(10):
    if arr[i] % 2 == 0:
        print('число ' + str(arr[i]) + ' чётное')
    else:
        print('число ' + str(arr[i]) + ' нечётное')
```

Результат работы:

```text
число 10 чётное
число 15 нечётное
число 22 чётное
число 14 чётное
число 13 нечётное
число 7 нечётное
число 19 нечётное
число 42 чётное
число 63 нечётное
число 51 нечётное
```


## Продвинутые примеры

Это примеры, которые содержат ещё не пройденные здесь элементы. Их устройство будет разобрано в следующих разделах.

### Вывод случайных чисел

Данный код выведет 10 случайных трёхзначных чисел. Для их генерации используется стандартная библиотека Python. Использование подключаемых библиотек будет рассмотрено в следующих главах.

```python
import random

for i in range(10):
    print(random.randint(100, 999))
```

Результат работы:

```text
512
140
699
408
922
424
958
468
863
985
```
