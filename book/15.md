# Магия Python


## Множественные переменные

Начнём с замены местами двух переменных. Данная задача решается в три строки:

```python
# Дано
a = 10
b = 20

# Решение
c = a
a = b
b = c
```

Всё просто. Для решения необходимо объявить временную переменную ( `c` ), которая примет значение первой переменной ( `a` ). После этого первая переменная ( `a` ) принимает значение второй ( `b` ), а вторая ( `b` ) - первой ( `a` ), сохранённой во временной переменной ( `c` ).

Однако в Python всё ещё проще. Нужно поменять местами — так и поступим, в одну строку:

```python
# Дано
a = 10
b = 20

# Решение
a, b = b, a
```

Поначалу это может показаться странным, но это просто логичное следствие множественных переменных, т.е. возможность перечислять переменные через запятую. Например:

```shell
>>> a, b, c = 10 , 20 , 40
>>> a
10
>>> b
20
>>> c
40
```

Помимо краткого объявления переменных, с ними можно похожим образом можно производить и действия, главное тут — соблюдать порядок. Например:

```shell
>>> a, b, c = 10 + 10 , 20 * 2 , 2 ** 6
>>> a
20
>>> b
40
>>> c
64
```

Это можно использовать и для возвращения значений функцией, но об этом будет в следующих главах.

> Примечание: Хотя в Python и возможно указание и работа с переменными через запятую, обычно такое написание не приветствуется, так как может вносить неясность и быть причиной ошибок


## Истинная природа строк

Итак, пришло время узнать правду. На самом деле строки в Python - это не строки. На деле это массивы символов. И доказать это куда проще, чем кажется. Попробуем обратится к букве по индексу:

```shell
>>> s = "string"
>>> s[0]
s
>>> s[2]
r
>>> s[5]
g
```

Это и правда работает, а следовательно, строка — это массив символов. Однако, к строке всё равно нельзя применять методы массивов, так как всё-же это разные типы. Однако преобразования никто не отменял.


## Перемножение несовместимого

Можно ли перемножить строку или массив на число? Пусть здравый смысл и говорит, что это невозможно, но Python это позволяет. На самом деле на число можно перемножать только массивы, но так как строка — это тоже массив, то можно и его. При этом, в итоге получится массив, продублированный n-ое количество раз.

```shell
>>> str = "string "
>>> arr = [ 1, 2 ]

>>> str * 3
string string string 

>>> arr * 3
[1, 2, 1, 2, 1, 2]
```


## Slices / срезы

И всё же само по себе свойство "массивности" строк ничего не даёт. Преимущество даёт одно из "волшебных" свойств массивов — это слайсы.

> Слайс — это "срез" массива с одного индекса по другой

Проще всего это понять на примере. К примеру, есть массив чисел, из которого нужно взять первые пять элементов. Это реализуется следующим образом:

```shell
>>> numbers = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]
>>> numbers[0:5]
[1, 2, 3, 4, 5]
```

Синтаксис похож на обычное получение элемента из массива, только вместо индекса — интервал. 

```text
массив[ начало : конец : шаг ]
```

Рассмотрим пока первые два аргумента. У них есть три важных момента:

- их можно опустить, и тогда они примут значения по умолчанию, т.е. начало = 0, а конец = длине строки 
- начало считается включительно, а конец — не включительно
- аргументы могут быть отрицательными, тогда они будут считаться наоборот, т.е. справа налево

Например:

```shell
>>> numbers = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]

>>> numbers[0:]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

>>> numbers[5:]
[6, 7, 8, 9, 10]

>>> numbers[:5]
[1, 2, 3, 4, 5]

>>> numbers[:]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

>>> numbers[-3:]
numbers[-3:]

>>> numbers[-6:-2]
[5, 6, 7, 8]
```

И, наконец, третий аргумент — это шаг. У него есть интересное свойство — при отрицательных значениях он будет идти наоборот. Это часто используется что-бы перевернуть массив:

```shell
>>> numbers = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]
>>> numbers[::-1]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]
```

И самое крутое — всё вышеперечисленное можно отнести и к строкам, на них примеры даже нагляднее:

```shell
>>> str = "Very long string variable"

>>> str[0:4]
'Very'

>>> str[5:9]
'long'

>>> str[10:]
'string variable'

>>> str[-8:]
'variable'

>>> str[::-1]
'elbairav gnirts gnol yreV'
```


## Ещё один способ изменять массивы

Это может казаться неочевидным, но слайсы можно использовать для изменения массивов ( но не строк ), наравне с обычными индексами. Например, как заменить или удалить часть массива:

```shell
>>> arr = [ 1, 2, 3, 4, 5 ]

>>> arr[2:]
[3, 4, 5]

>>> arr[2:] = [ 4, 6, 8 ]

>>> arr
[1, 2, 4, 6, 8]

>>> del arr[:1]

>>> arr
```


## f-строки / f-strings

Это относительно новая, но очень удобная фишка Python. Но обо всём по порядку.

> f-строка - это способ создания строки через использование заполнителей

Проще говоря, это возможность вставки значений переменных напрямую в строку. Это выглядит следующим образом:

```shell
>>> age = 19
>>> f"ваш возраст: {age} лет"
'ваш возраст: 19 лет'
```

Сама f-строка представляет собой обычную строку, перед которой стоит `f`, т.е.:

```python
f" это f-строка ( f-string ) "
```

Это даёт строке следующее свойство: возможность вставки в неё переменных, обёрнутых в фигурные скобки, т.е. в `{}`:

```python
var1 = "storage"
var2 = 25

f"{var1} store {var2}kg iron"
```

А затем это строка преобразуется, т.е. вместо заполнителей ( переменных ) вставятся их значения. Например, такая строка выйдет из предыдущего примера:

```shell
'storage store 25kg iron'
```


## Вопросы для проверки

- Приведите пример множественных переменных.
- Как поменять местами две или более переменных?
- Возможно ли перемножать несовместимое?
- Дайте определение термину "срез".
- Как используются срезы?
- Какие особенности у среза?
- Дайте определение термину "f-строка".
- Как и где разумно использовать f-строки?
