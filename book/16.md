# Функции


Итак, теперь вы хорошо знакомы с Python и точно знаете его основы. Ранее вы познакомились с переменными и их видами, узнали об операторах и методах, постигли дзен и магию Python. Теперь настало время постигнуть новый виток развития в программировании. И скоро вы научитесь создавать и управлять собственными структурами языка. 


## Что такое функция?

Повторим ранее пройденный материал:

> Функция — это именованный кусок кода, который принимает какие-либо параметры, и возвращает какие-либо значения.

Проще говоря, функция - это пользовательский оператор языка. Однако если раньше функции нами рассматривались с точки зрения их использования, то сейчас мы будем рассматривать их внутреннее устройство.


## Зачем нужны функции?
  
Функции нужны для того, чтобы как можно больше снизить повторяемость кода в программе, т.е. для того, чтобы можно было не писать один и тот же блок кода несколько раз. Однако при этом, функции могут создаваться с различными целями. В основном, их лишь две:

- Создание функций для какого-либо конкретного проекта.
- Создание общих функций для множества проектов.

Часто, такие общие функции со схожими задачами объединяют в один файл. Такие файлы называют библиотеками. А некоторые библиотеки даже специально постоянно разрабатываются и поддерживаются большой группой разработчиков. Такие библиотеки используются большим количеством проектов и поэтому крайне важны.

Крайней же степенью подхода неповторимости кода может служить принцип DRY ( Don't Repeat Yourself / не повторяйся ). Однако даже без него, функции необходимы для большего удобства и создания слоя абстракции.


## Понятие абстракции

Сначала, как всегда, определение.

> Абстракция - это упрощение / обобщение некоторых действий для их дальнейшего использования. Также абстракция - это описание чего-либо на более высоком уровне.

Простой пример - предположим, что функция "ходить" - это абстракция. Тогда её составляющими будут такие действия как "поднять ногу", "переместить ногу", "опустить ногу", "повторить". А у каждой из этих функций также есть свои составляющие, скажем работа мышц ноги, и так далее, в глубину.

Собственно суть абстракции ( в этом случае ) - это описание чего-либо, что подразумевает под собой какой-либо алгоритм действий. Например, говоря фразу "открыть входную дверь", мы подразумеваем такие действия как "вставить ключ в замок и повернуть его", "повернуть ручку двери", "потянуть дверь за ручку на себя" и так далее. Абстракция позволяет не описывать всё это, а дать лишь общее указание.

И даже в программировании это работает очень схожим образом. Предположим, что вы создаёте какую-либо игру в которой есть персонаж игрока. Для управления его действиями можно каждый раз их прописывать целиком и полностью. А можно просто создать нужные функции, например, walk() и jump(), а затем использовать их в нужных местах. Такие функции как раз и называют слоем абстракции ( упрощения ).

Причём подобный слой абстракции может использоваться где угодно, что сильно упрощает процесс создания программ.

> Справка: На самом деле, на этом принципе устроено вообще всё программирование в мире. Один язык программирования создаётся на другом, одни функции строятся на других, одни программы основываются на других. И чем дальше находится звено этой цепи, чем выше слой абстракции, тем больше возможностей, но тем они проще, ибо все детали "спрятаны" ниже.


## Синтаксис

Собственно функция пишется следующим образом:

```
def name_function(input):
    body_function
```

В данном примере псевдокода:

- `def` - зарезервированное слово, объявляющее функцию
- `name_function` - это название функции, по которому она будет вызываться
- `input` - это объявляемые вводимые параметры функции, они могут быть обязательными и дополнительными
- `body_function` - это тело функции, то есть некий алгоритм, который и выполняет функция, при этом не имеет значения, возвращает она что-нибудь или нет

Самый простой пример функции - это пустая ( ничего не делающая ) функция:

```python
def empty_function():
    pass
```

С точки зрения языка, такая функция уже более чем верна, хотя она и ничего не делает.


## Приём параметров и возврат значений

Теперь поближе познакомимся с тем, что даёт функциям такую мощь, а именно - ввод и вывод данных.

### Параметры функции

Ввод данных в функцию производится при помощи параметров, что давно уже вам известно. Однако теперь разберёмся не с их использованиям, а с их объявлением. Для этого разберём четыре примера казалось бы одной и той же функции, которая принимает какое-либо число и выводит его в консоль.

```python
def print_int_v1(input_int = 0):
	print(input_int)

def print_int_v2(input_int):
	print(input_int)

def print_int_v3(input_int:int = 0):
	print(input_int)

def print_int_v4(input_int:int):
	print(input_int)
```

Итак, теперь разберём их по порядку. Полезная нагрузка у всех функций одинаковая - просто вывод числа в консоль. Однако, у каждой функции её параметр объявлен по своему.

В первом случае параметр считается необязательным, его можно не указывать вовсе. Ибо в таком случае ( если параметр функции не задан явно ) будет подставлено его значение по умолчанию ( в данном примере это 0 ).

Во втором случае параметр считается обязательным ( поскольку значение по умолчанию не задано ), а если попытаться вызвать такую функцию без параметров, то Python выдаст ошибку `TypeError: print_int_v2() missing 1 required positional argument: 'input_int'` ( отсутствует аргумент 'input_int' ).

В чём же тогда отличие третьего и четвёртого вариантов от первого и второго соответственно? А отличие тут в явном указании типа переменной, что с одной стороны даст прирост в скорости, а с другой - защиту от дурака. И хотя Python всё равно попробует принять и иной тип данных, IDE укажет на такую ошибку.

### Возврат значений

Функция может возвращать какие-либо значения при помощи оператора `return`. В последствии, возвращённое функцией значение можно как-либо использовать.

Например:

```python
def test_func():
	return 1

print(test_func())
```

Результатом выполнения данного кода будет обычная единица.


## Пример более сложной функции

```python
def body_mass_index(height:int, mass:int):
    if ( (type(height) == int) and (type(mass) == int)):
        bmi = (mass) / ( ( height / 100 ) ** 2 )
        return bmi
    else:
        return 'Type error'
```

Данная функция решает прикладную задачу - вычисляет массу тела, на основании двух параметров - `height` ( высота человека, в сантиметрах ) и `mass` ( масса человека, в килограммах ). После запуска функция сначала проверяет тип внесённых переменных ( при помощи оператора `type()` ), и в случае, если тип данных это `int` ( т.е. целое число ), производит вычисления и возвращает ответ. В противном случае функция возвращает сообщение об ошибке.
